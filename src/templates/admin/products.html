{% extends './layout.html' %}

{% block title %}Productos{% endblock %}

{% block body %}



<!-- Secccion -->
<section class="flex flex-col justify-center items-center mt-32 mb-12 mb-12 gap-4">

    {% include 'menu_admin.html' %}

    <h1 class="text-[#C40C0C] font-bold text-[30px] xl:text-[40px] text-center">Productos</h1>

    {% if productos %}
    <div class="w-full px-4 py-8 flex flex-col items-center text-white">
        <div class="overflow-x-auto w-full max-w-[1200px] rounded scrollbar-hide">
            <table class="w-full whitespace-nowrap border-none">
            <thead class="text-white bg-[#C40C0C]">
                <tr>
                <th class="px-4 py-3 text-[20px] md:text-[25px] font-bold text-center">Nombre</th>
                <th class="px-4 py-3 text-[20px] md:text-[25px] font-bold text-center">Stock</th>
                <th class="px-4 py-3 text-[20px] md:text-[25px] font-bold text-center">Marca</th>
                <th class="px-4 py-3 text-[20px] md:text-[25px] font-bold text-center">Categoria</th>
                <th class="px-4 py-3 text-[20px] md:text-[25px] font-bold text-center">Precio</th>
                <th class="px-4 py-3 text-[20px] md:text-[25px] font-bold text-center">Ventas</th>
                <th class="px-4 py-3 text-[20px] md:text-[25px] font-bold text-center">Acciones</th>
                </tr>
            </thead>
            
            <tbody>
                {% for producto in productos %}
                    <tr class="odd:bg-[#1f1f1f] even:bg-[#2a2a2a]">
                    <td class="px-4 py-3 text-[16px] md:text-[18px] font-semibold text-center">{{producto.nombre}}</td>
                    <td class="px-4 py-3 text-[16px] md:text-[18px] font-semibold text-center">{{producto.stock}}</td>
                    <td class="px-4 py-3 text-[16px] md:text-[18px] font-semibold text-center">{{producto.nombre_marca}}</td>
                    <td class="px-4 py-3 text-[16px] md:text-[18px] font-semibold text-center">{{producto.nombre_categoria}}</td>
                    <td class="px-4 py-3 text-[16px] md:text-[18px] font-semibold text-center">{{producto.precio}}â‚¬</td>
                    <td class="px-4 py-3 text-[16px] md:text-[18px] font-semibold text-center">{{producto.ventas}}</td>
                    <td class="px-4 py-3 text-[16px] md:text-[18px] font-semibold text-center">
                        <div class="flex justify-center gap-4">
                        <a href="{{url_for('admin.edit_product',id=producto.id)}}" class="text-center bg-[#10902C] px-3 py-1 rounded text-[15px]">Editar</a>
                        {% if producto.activo==1 %}
                        <a href="{{url_for('admin.deactivate_product',id=producto.id)}}" class="text-center bg-[#C40C0C] px-3 py-1 rounded text-[15px]">Desactivar</a>
                        {% else %}
                        <a href="{{url_for('admin.activate_product',id=producto.id)}}" class="text-center bg-[#10902C] px-3 py-1 rounded text-[15px]">Activar</a>
                        {% endif %}
                        </div>
                    </td>
                    </tr>
                {% endfor %}
                
            </tbody>
            </table>
        </div>
    </div>
    {% else %}

    <div class="flex flex-col justify-center items-center gap-2">
        <p class="text-[80px] sm:text-[100px] text-[#C40C0C] rounded-full"><i class="fa-solid fa-xmark"></i></p>
        <p class="text-white text-center text-[30px] font-semibold">No hay productos</p>
    </div>

    {% endif %}

   

  </section>

  

{% endblock %}